@model IEnumerable<_CurriculumManagerSystem.Models.MoiquanhePLO_Muctieudaotao>
@{
    
    string temp_phu = "";
    string temp_chiso = "";
    int i = 0;
}
<h2>2. Chuẩn đầu ra</h2>
<h2>2.1 Yêu cầu về kiến thức</h2>
<h2>2.1.1 Kiến thức chuyên ngành</h2>
<p>
@foreach (var item in Model)
{
    <p>
    @item.maplo
    </p>
    @* foreach (var items in Model.Where(m=> m.PLO.maplo == item.Key))
    {
          i++;
            <p>Chuẩn đầu ra @i (@items.PLO.chisoplo) : @items.PLO.noidung</p>
    } *@
  
}
</p>
<h2>Bảng 1. Mối quan hệ giữa chuẩn đầu ra và mục tiêu</h2>
<p>(Xem diễn giải nội dung từ MT1 đến MT7 trong phần mục tiêu đào tạo bên trên)</p>
<table cellspacing="0" cellpadding="5" style="text-align:center;border-style: solid;">
    <thead>
        <tr>
            <td>Chuẩn đầu ra</td>
            @foreach (var muctieu in ViewBag.listmuctieudaotao)
            {
                @if(muctieu.mtdt_chiso != null)
                {
                    <td>@muctieu.mtdt_chiso</td>
                }
                
            }
        </tr>
    </thead>
    <tbody>
         @foreach (var plo in ViewBag.listplo)
        {
        <tr>
            <td>@plo.chisoplo</td>
                @foreach (var muctieu in ViewBag.listmuctieudaotao)
                {
                    @if(muctieu.mtdt_chiso != null)
                    {
                        bool flag = false;
                     @foreach (var item in Model)
                    {
                        @if (item.maplo == plo.maplo && item.ma_mtdt == muctieu.ma_mtdt)
                        {
                           flag = true;
                           break;
                        }
                    }
                    if(flag)
                    {
                        <td style="background-color: darkgray;">X</td>
                    }
                    else
                    {
                         <td></td>
                    }
                   
                    }
                }
            </tr>
        }
    </tbody>
</table>
