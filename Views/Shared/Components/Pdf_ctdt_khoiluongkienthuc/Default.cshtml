@model IEnumerable<_CurriculumManagerSystem.Models.Decuong_Chuongtrinh>

                        @{
                            int stt = 0;
                            int tong_tc = 0;
                            int tong_sotiet_lt = 0;
                            int tong_sotiet_th = 0;
                            int tongcong_tc = 0;
                            int tongcong_bb = 0;
                            int tongcong_tuchon = 0;
                            string tuchon = "";
                            string luanvan = "Luận văn tốt nghiệp";
                        }
                        <h2>3. Khối lượng kiến thức toàn khóa</h2>
                        @foreach (var dulieu_kkt in ((List<Decuong_Chuongtrinh>)TempData["listData"]).GroupBy(x =>
                        x.DeCuongchiTiet.Khoikienthuc.kkt_ten))
                        {
                            

                            <tbody>
                                @foreach (var dulieu_decuong in ((List<Decuong_Chuongtrinh>)TempData["listData"]).Where(x =>
                               x.DeCuongchiTiet.Khoikienthuc.kkt_ten == dulieu_kkt.Key))
                                {
                                    stt = stt + 1;
                                    tong_sotiet_lt = dulieu_decuong.DeCuongchiTiet.sotc_lt * 15;
                                    tong_sotiet_th = dulieu_decuong.DeCuongchiTiet.sotc_th * 30;
                 
                                    @if(dulieu_decuong.DeCuongchiTiet.tenhp_tviet.Contains(luanvan))
                                            {
                                            }
                                        else
                                            { 
                                               @if(dulieu_decuong.DeCuongchiTiet.Khoikienthuc.kkt_tuchon != null && dulieu_decuong.DeCuongchiTiet.Khoikienthuc.kkt_tuchon != tuchon)
													{ 
														tongcong_tuchon += int.Parse(dulieu_decuong.DeCuongchiTiet.Khoikienthuc.kkt_mota);
														tuchon = dulieu_decuong.DeCuongchiTiet.Khoikienthuc.kkt_tuchon;
														
													}
												
															
															{
																tong_tc = dulieu_decuong.DeCuongchiTiet.sotc_lt + dulieu_decuong.DeCuongchiTiet.sotc_th;
															}
															@if(dulieu_decuong.DeCuongchiTiet.Khoikienthuc.kkt_tuchon != null && dulieu_decuong.DeCuongchiTiet.Khoikienthuc.kkt_mota != null)
																{  
																	
																	
																	tongcong_tc += tong_tc;
															
																		
																	
																}
															else
																{
																	tongcong_bb += tong_tc;
																	tongcong_tc += tong_tc;
																	
																}
												
                                            }
                                }

                            </tbody>
                        }
                        <p>Tổng số tín chỉ: @tongcong_tc tín chỉ</p>
                        <p>Trong đó:</p>
                        <p>
                            - Tổng số tín chỉ bắt buộc: @tongcong_bb tín chỉ <br />
                            - Tổng số tín chỉ tự chọn: @tongcong_tuchon tín chỉ
                        </p>
                       
                   